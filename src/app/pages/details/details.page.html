<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/" />
    </ion-buttons>
    <ion-title>#{{ details.id }} â€“ {{ details.name | titlecase }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="toggleFavorite()">
        <ion-icon slot="icon-only" [name]="isFav ? 'heart' : 'heart-outline'" [color]="isFav ? 'danger' : undefined"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="app-container">
  <div class="sprite-gallery">
    <div *ngFor="let sprite of details.spriteList" class="sprite-item">
      <img [src]="sprite.url" loading="lazy" [alt]="details.name + ' ' + sprite.label" />
      <p>{{ sprite.label }}</p>
    </div>
  </div>

  <div class="section stats">
    <h3>Status</h3>
    <div class="stats-row">
      <div *ngFor="let s of details.stats" class="stat-item">
        <p class="stat-name">{{ s.stat.name | uppercase }}</p>
        <p class="stat-value">{{ s.base_stat }}</p>
      </div>
    </div>
  </div>

  <div class="section inline-row">
    <h3>Capture Rate</h3>
    <ion-badge>{{ details.capture_rate }}%</ion-badge>
  </div>

  <div class="section inline-row">
    <h3>Tipos</h3>
    <div class="badges-row">
      <ion-badge *ngFor="let t of details.types">{{ t.type.name | titlecase }}</ion-badge>
    </div>
  </div>

  <div class="section inline-row">
    <h3>Habilidades</h3>
    <div class="badges-row">
      <ion-badge *ngFor="let a of details.abilities | slice:0:3">
        {{ a.ability.name | titlecase }}
      </ion-badge>
      <ion-badge *ngIf="details.abilities.length > 3" class="more-badge" (click)="showExtras('abilities')">
        +{{ details.abilities.length - 3 }}
      </ion-badge>
    </div>
  </div>

  <div class="section inline-row">
    <h3>Movimentos</h3>
    <div class="badges-row">
      <ion-badge *ngFor="let m of details.moves | slice:0:3">
        {{ m.move.name | titlecase }}
      </ion-badge>
      <ion-badge *ngIf="details.moves.length > 3" class="more-badge" (click)="showExtras('moves')">
        +{{ details.moves.length - 3 }}
      </ion-badge>
    </div>
  </div>

  <div class="section inline-row">
    <h3>Locais de Encontro</h3>
    <div class="badges-row">
      <ion-badge *ngFor="let loc of details.location_areas | slice:0:3">
        {{ loc | titlecase }}
      </ion-badge>
      <ion-badge *ngIf="details.location_areas.length > 3" class="more-badge" (click)="showExtras('location_areas')">
        +{{ details.location_areas.length - 3 }}
      </ion-badge>
    </div>
  </div>

</ion-content>